{"version":3,"sources":["Images/book.jpg","types.ts","redux/reducers/product.ts","redux/reducers/ui.ts","redux/reducers/auth.ts","redux/reducers/index.ts","redux/sagas/product.ts","redux/sagas/ui.ts","redux/sagas/index.ts","redux/store.ts","utils/setAuthToken.ts","redux/actions/auth.ts","hooks/useStyles.ts","pages/About.tsx","redux/actions/product.ts","components/BooksCard/index.tsx","components/BooksGrid/index.tsx","api/index.ts","hooks/useBooks.ts","components/SearchBook/index.tsx","pages/Home.tsx","pages/Product.tsx","pages/Login.tsx","components/SearchUser/index.tsx","components/TableCell/index.tsx","components/TableHeader/index.tsx","Images/user.png","components/UserPhoto/index.tsx","components/TableRow/index.tsx","components/UserTable/index.tsx","components/AddBook/index.tsx","components/BooksTable/TableCell/index.tsx","components/BooksTable/TableHeader/index.tsx","components/BooksTable/Photo/index.tsx","components/BooksTable/TableRow/index.tsx","components/BooksTable/BookTable/index.tsx","components/Dashboards/AdminDashboard.tsx","components/UserTab/index.tsx","components/ChangePassword/index.tsx","components/Dashboards/UserDashboard.tsx","pages/Dashboard.tsx","pages/Register.tsx","components/ListItemCart/index.tsx","pages/ShoppingCart.tsx","pages/EditBook.tsx","pages/EditUser.tsx","Routes/Routes.tsx","components/Navbar/index.tsx","App.tsx","reportWebVitals.ts","index.tsx"],"names":["DialogType","ErrorType","ADD_PRODUCT","REMOVE_PRODUCT","TOGGLE_DIALOG","GET_ERRORS","USER_LOADING","SET_CURRENT_USER","product","state","inCart","action","type","payload","find","p","id","index","findIndex","splice","defaultState","dialogOpen","ui","dialog","initialState","isAuthenticated","user","email","exp","admin","firstName","loading","loginError","createRootReducer","combineReducers","auth","doSomethingWhenAddingProduct","select","localStorage","setItem","JSON","stringify","takeLatest","doSomethingWhenDialogOpen","console","log","rootSaga","all","productSagas","uiSagas","SavedProductStore","getItem","initState","parse","setAuthToken","token","axios","defaults","headers","common","setCurrentUser","decoded","logoutUser","dispatch","removeItem","useStyles","makeStyles","theme","createStyles","grow","flexGrow","menuButton","marginRight","spacing","title","display","breakpoints","up","link","textDecoration","color","search","position","borderRadius","shape","backgroundColor","fade","palette","white","marginLeft","width","searchIcon","padding","height","pointerEvents","alignItems","justifyContent","inputRoot","inputInput","paddingLeft","transition","transitions","create","sectionDesktop","sectionMobile","drawer","flexShrink","drawerPaper","drawerHeader","mixins","toolbar","navBarLink","paper","marginTop","flexDirection","avatar","margin","secondary","main","errMessage","textAlign","form","searchH1","searchBookContainer","submit","submitSearch","bookCard","maxWidth","boxShadow","alignContent","bookDescription","whiteSpace","overflow","textOverflow","bookCardActions","bottom","bookMedia","bookGrid","registerPaper","registerAvatar","registerForm","registerSubmit","cartContainer","basketContainer","cardContainer","media","marginBottom","arrow","fontSize","align","bookCardContent","paddingBottom","listItem","listRoot","emptyCartContainer","h1","emptyCart","listBox","cartButton","float","bookFrom","inputDiv","input","formButton","inputTextarea","successP","errorP","inputCheck","editForm","tabs","typography","aboutContainer","About","classes","className","addProduct","removeProduct","BooksCard","props","description","author","useDispatch","history","useHistory","Grid","item","Card","CardActionArea","CardMedia","image","bookImg","CardContent","Typography","gutterBottom","variant","component","CardActions","Button","size","onClick","push","BooksGrid","books","container","xs","justify","map","book","_id","isbn","publisher","isAvailable","statusProperty","publishedDate","categories","api","baseURL","apis","addBook","post","getAllBooks","get","updateBookById","bookId","put","deleteBookById","delete","getBookById","searchBook","path","addUser","getAllUsers","updateUserById","userId","deleteUserById","getUserById","useBooks","useState","error","setError","setBooks","loadData","a","response","data","useEffect","useMemo","Object","keys","forEach","key","length","searchPath","join","SearchBook","category","handleChangeAbility","handleChangeCategory","handleChangeAuthor","handleSubmit","handleChangeTitle","onSubmit","sm","TextField","fullWidth","label","name","autoComplete","value","onChange","autoFocus","FormControlLabel","control","Checkbox","labelPlacement","Home","setAuthor","setTitle","setCategory","ability","setAbility","setPath","e","target","checked","preventDefault","BookPage","useParams","useSelector","setBook","goBack","require","Copyright","Link","href","Date","getFullYear","Login","password","setPassword","setEmail","Container","CssBaseline","Avatar","noValidate","userData","then","res","jwt_decode","catch","err","loginUser","required","values","Box","mt","SearchUser","keyword","handleKeywordChange","TableCells","TableCell","TableHeader","aria-label","TableRow","MemoizedTableHeader","React","memo","Photo","src","alt","TableRows","lastName","creationDate","handleDeleteUser","to","slice","UserTable","users","Table","TableBody","booksProperties","AddBook","isAdded","setIsAdded","timer","setTimeout","clearTimeout","BookValidationSchema","Yup","matches","max","min","formik","useFormik","initialValues","validationSchema","resetForm","status","message","htmlFor","handleChange","errors","BookPhoto","borrowDate","returnDate","handleReturnBook","getInfo","disabled","BookTable","uuidv4","TabPanel","children","other","role","hidden","aria-labelledby","a11yProps","AdminDashboard","val","sessionStorage","init","parseInt","setValue","setUsers","setUser","sortedBook","setSotedBook","jwtToken","setData","setKeyword","loadUsers","sort","b","getTime","foundedUsers","filter","toLowerCase","includes","window","confirm","AppBar","style","background","Tabs","event","newValue","centered","Tab","UserTab","handleUpdateInfo","UserValidationSchema","enableReinitialize","ChangePassword","handleChangePassword","currentPassword","confirmPassword","oneOf","UserDashboard","sessionValue","initValue","dateA","Dashboard","Register","NewUserValidationSchema","handleNewUser","newUser","registerUser","ListItemCart","handleRemoveBook","ShoppingCart","products","handleCheckout","useWhoBorrow","borrowerId","resUser","bookProp","newBookProps","Promise","statusProp","newStatusProp","req","lendedBook","userpayload","EditBook","alert","Routes","exact","Product","EditUser","PrimarySearchAppBar","open","setOpen","anchorEl","setAnchorEl","mobileMoreAnchorEl","setMobileMoreAnchorEl","isMenuOpen","Boolean","isMobileMenuOpen","handleMobileMenuClose","handleMenuClose","text","handleLogoutClick","handleMenuItemClick","menuId","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","MenuItem","mobileMenuId","renderMobileMenu","Toolbar","IconButton","edge","noWrap","Badge","badgeContent","aria-controls","aria-haspopup","currentTarget","Drawer","anchor","Divider","List","ListItem","button","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","store","sagaMiddleware","createSagaMiddleware","middlewares","thunk","composeEnhancers","compose","createStore","applyMiddleware","run","makeStore","currentTime","now","location","WithProvider","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8338def2.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/book.2ac7bbd7.jpg\";","// Action types\nexport const ADD_PRODUCT = 'ADD_PRODUCT'\nexport const REMOVE_PRODUCT = 'REMOVE_PRODUCT'\nexport const TOGGLE_DIALOG = 'TOGGLE_DIALOG'\n\nexport const GET_ERRORS = 'GET_ERRORS'\nexport const USER_LOADING = 'USER_LOADING'\nexport const SET_CURRENT_USER = 'SET_CURRENT_USER'\n// Enum\nexport enum DialogType {\n  SignIn = 'signIn',\n  SignUp = 'signUp',\n}\n\n// A product\nexport type Product = {\n  id: string\n  title: string\n  author: string\n}\n\nexport type AddProductAction = {\n  type: typeof ADD_PRODUCT\n  payload: {\n    product: Product\n  }\n}\n\nexport type RemoveProductAction = {\n  type: typeof REMOVE_PRODUCT\n  payload: {\n    product: Product\n  }\n}\n\nexport type ToggleDialogAction = {\n  type: typeof TOGGLE_DIALOG\n  payload: {\n    dialog: DialogType\n  }\n}\n\nexport type UiActions = ToggleDialogAction\n\n// Use this union in reducer\nexport type ProductActions = AddProductAction | RemoveProductAction\n\nexport type ProductState = {\n  inCart: Product[]\n}\n\n// Using dynamic keys from an enum\nexport type UiState = {\n  dialogOpen: {\n    [key in DialogType]?: boolean\n  }\n}\n\nexport enum ErrorType {\n  email = 'email',\n  passwordincorrect = 'passwordincorrect',\n  emailnotfound = 'emailnotfound',\n}\n\nexport type ErrState = {\n  email?: string\n  passwordincorrect?: string\n  emailnotfound?: string\n}\n\nexport type UserState = {\n  id: string\n  email: string\n  exp: number\n  admin: boolean\n  firstName: string\n}\nexport type Auth = {\n  isAuthenticated: boolean\n  user: UserState\n  loading: boolean\n  loginError: any\n}\n\nexport type AppState = {\n  product: ProductState\n  ui: UiState\n  auth: Auth\n}\n\nexport type Decoded = {\n  id: string\n  email: string\n  exp: number\n  admin: boolean\n  firstName: string\n}\n\ntype StatProperties = {\n  borrowerId: string\n  borrowDate: Date\n  returnDate: Date\n}\n\nexport type Book = {\n  _id: string\n  isbn: number\n  title: string\n  description: string\n  publisher: string\n  author: string\n  isAvailable: boolean\n  statusProperty: StatProperties[]\n  publishedDate: number\n  categories: string[]\n}\n\nexport type BooksGridProps = {\n  books: Book[]\n}\n\nexport type BooksCardProps = {\n  id: string\n  isbn: number\n  title: string\n  description: string\n  publisher: string\n  author: string\n  isAvailable: boolean\n  statusProperty: StatProperties[]\n  publishedDate: number\n  categories: string[]\n}\n\nexport type Path = {\n  author?: string\n  title?: string\n  categories?: string\n  isAvailable?: boolean\n}\n\nexport type PathProps = {\n  path?: Path\n}\n\nexport type KeyType = 'author' | 'title' | 'categories' | 'isAvailable'\n\nexport type SearchBookProps = {\n  author: string\n  title: string\n  category: string\n  ability?: boolean\n  handleChangeAbility: (e: React.ChangeEvent<HTMLInputElement>) => void\n  handleChangeCategory: (e: React.ChangeEvent<HTMLInputElement>) => void\n  handleChangeAuthor: (e: React.ChangeEvent<HTMLInputElement>) => void\n  handleSubmit: (e: React.FormEvent) => void\n  handleChangeTitle: (e: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nexport type BoookInCart = {\n  id: number\n  title: string\n  author: string\n}\n\nexport type ListItemProps = {\n  product: Product\n  handleRemoveBook: (product: Product) => void\n}\n\nexport type ParamProps = {\n  id: string\n}\n\nexport type booksProperties = {\n  bookId: string\n  borrowDate: Date\n  returnDate: Date\n}\n\nexport type User = {\n  _id: string\n  admin: boolean\n  password: string\n  firstName: string\n  lastName: string\n  email: string\n  booksProperties: booksProperties[]\n  creationDate: Date\n}\n\nexport type UserProps = {\n  users: User[]\n  handleDeleteUser: (id: string) => void\n}\n\nexport type TableRowProps = {\n  id: string\n  admin: boolean\n  firstName: string\n  lastName: string\n  email: string\n  booksProperties: booksProperties[]\n  creationDate: any\n  handleDeleteUser: (id: string) => void\n}\n\nexport type TableCellProps = {\n  name: string\n}\n\nexport type TabPanelProps = {\n  children?: React.ReactNode\n  index: any\n  value: any\n}\n\nexport type searchUserProps = {\n  keyword: string\n  handleKeywordChange: (e: React.ChangeEvent<HTMLInputElement>) => void\n}\n\nexport type BooksTabProps = {\n  booksProperties: booksProperties[]\n}\n\nexport type BookTableCellProps = TableCellProps\n\nexport type BookTableRowProps = {\n  bookId: string\n  borrowDate: any\n  returnDate: any\n  handleReturnBook: (bookId: string) => void\n}\n\ntype UserBook = {\n  bookId: string\n  title: string\n  author: string\n  borrowDate: Date\n  returnDate: Date\n}\n\ntype booksPropertiesBookTable = {\n  bookId: string\n  borrowDate: Date\n  returnDate: Date\n}\n\nexport type BookProps = {\n  books: booksPropertiesBookTable[]\n  handleReturnBook: (bookId: string) => void\n}\n\nexport type UserTabProps = {\n  user: User\n  handleUpdateInfo: (values: any) => void\n}\n\nexport type ChangePasswordProps = {\n  id: string\n  handleChangePassword: (values: any) => void\n}\n","import {\n  ProductState,\n  ProductActions,\n  ADD_PRODUCT,\n  REMOVE_PRODUCT,\n} from '../../types'\n\nexport default function product(\n  state: ProductState = {\n    inCart: [],\n  },\n  action: ProductActions\n): ProductState {\n  switch (action.type) {\n    case ADD_PRODUCT: {\n      const { product } = action.payload\n      if (state.inCart.find((p) => p.id === product.id)) {\n        return state\n      }\n      // Always return new state (e.g, new object) if changed\n      return { ...state, inCart: [...state.inCart, product] }\n    }\n\n    case REMOVE_PRODUCT: {\n      const { product } = action.payload\n      const index = state.inCart.findIndex((p) => p.id === product.id)\n      if (index >= 0) {\n        state.inCart.splice(index, 1)\n        return { ...state, inCart: [...state.inCart] }\n      }\n      return state\n    }\n\n    default:\n      return state\n  }\n}\n","import { TOGGLE_DIALOG, UiState, UiActions } from '../../types'\n\nconst defaultState: UiState = {\n  dialogOpen: {},\n}\n\nexport default function ui(\n  state: UiState = defaultState,\n  action: UiActions\n): UiState {\n  switch (action.type) {\n    case TOGGLE_DIALOG: {\n      return {\n        ...state,\n        dialogOpen: {\n          ...state.dialogOpen,\n          [action.payload.dialog]: !state.dialogOpen[action.payload.dialog],\n        },\n      }\n    }\n\n    default:\n      return state\n  }\n}\n","import { Auth, GET_ERRORS, SET_CURRENT_USER, USER_LOADING } from \"../../types\";\n\n//const isEmpty = require(\"is-empty\");\n//import isEmpty from \"is-empty\";\n\nconst initialState: Auth = {\n  isAuthenticated: false,\n  user: {\n    id: \"\",\n    email: \"\",\n    exp: 0,\n    admin: false,\n    firstName: \"\",\n  },\n  loading: false,\n  loginError: {},\n};\n// FIX\n// eslint-disable-next-line import/no-anonymous-default-export\nexport default function (state = initialState, action: any) {\n  switch (action.type) {\n    case SET_CURRENT_USER:\n      return {\n        ...state,\n        isAuthenticated: true, //!isEmpty(action.payload),\n        user: action.payload,\n        loginError: {},\n      };\n    case USER_LOADING:\n      return {\n        ...state,\n        loading: true,\n      };\n    case GET_ERRORS:\n      return {\n        ...state,\n        loginError: action.payload,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux'\n\nimport product from './product'\nimport ui from './ui'\nimport auth from './auth'\n\nconst createRootReducer = () =>\n  combineReducers({\n    product,\n    ui,\n    auth,\n  })\n\nexport default createRootReducer\n","import { select, takeLatest } from 'redux-saga/effects'\n\nimport {\n  ADD_PRODUCT,\n  AddProductAction,\n  RemoveProductAction,\n  REMOVE_PRODUCT,\n} from '../../types'\n\nfunction* doSomethingWhenAddingProduct(\n  action: AddProductAction | RemoveProductAction\n) {\n  const state = yield select((state) => state.product)\n\n  yield localStorage.setItem('fresh', JSON.stringify(state))\n}\n\nexport default [\n  takeLatest([ADD_PRODUCT, REMOVE_PRODUCT], doSomethingWhenAddingProduct),\n]\n","import { takeLatest } from 'redux-saga/effects'\n\nimport { TOGGLE_DIALOG, ToggleDialogAction } from '../../types'\n\nfunction* doSomethingWhenDialogOpen(action: ToggleDialogAction) {\n  yield console.log(action)\n}\n\nexport default [takeLatest(TOGGLE_DIALOG, doSomethingWhenDialogOpen)]\n","import { all } from 'redux-saga/effects'\n\nimport productSagas from './product'\nimport uiSagas from './ui'\n\nexport default function* rootSaga() {\n  yield all([...productSagas, ...uiSagas])\n}\n","import { createStore, applyMiddleware, compose } from 'redux'\nimport createSagaMiddleware from 'redux-saga'\nimport thunk from 'redux-thunk'\n\nimport { AppState } from '../types'\nimport createRootReducer from './reducers'\nimport rootSaga from './sagas'\n\nconst SavedProductStore = localStorage.getItem('fresh')\nconst productState = SavedProductStore\n  ? JSON.parse(SavedProductStore)\n  : { inCart: [] }\n\nconst initState: AppState = {\n  product: productState,\n  auth: {\n    isAuthenticated: false,\n    user: {\n      id: '',\n      email: '',\n      exp: 0,\n      admin: false,\n      firstName: '',\n    },\n    loading: false,\n    loginError: {},\n  },\n  ui: {\n    dialogOpen: {},\n  },\n}\n\nexport default function makeStore(initialState = initState) {\n  const sagaMiddleware = createSagaMiddleware()\n  const middlewares = [sagaMiddleware, thunk]\n  let composeEnhancers = compose\n\n  if (process.env.NODE_ENV === 'development') {\n    if ((window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__) {\n      composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__\n    }\n  }\n\n  const store = createStore(\n    createRootReducer(),\n    initialState,\n    composeEnhancers(applyMiddleware(...middlewares))\n  )\n\n  sagaMiddleware.run(rootSaga)\n\n  if ((module as any).hot) {\n    ;(module as any).hot.accept('./reducers', () => {\n      const nextReducer = require('./reducers').default\n      store.replaceReducer(nextReducer)\n    })\n  }\n\n  return store\n}\n","import axios from \"axios\";\n\n// FIX token tpye\nconst setAuthToken = (token: any) => {\n  if (token) {\n    // Apply authorization token to every request if logged in\n    axios.defaults.headers.common[\"Authorization\"] = token;\n  } else {\n    // Delete auth header\n    delete axios.defaults.headers.common[\"Authorization\"];\n  }\n};\n\nexport default setAuthToken;\n","import axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\n\nimport { GET_ERRORS, SET_CURRENT_USER, USER_LOADING } from \"../../types\";\nimport setAuthToken from \"../../utils/setAuthToken\";\n\n// Register User\nexport const registerUser = (userData: any, history: any) => (\n  dispatch: (arg0: { type: string; payload: any }) => any\n) => {\n  console.log(\"yoyoyoy\");\n  axios\n    .post(\"http://localhost:3001/api/v1/users/register\", userData)\n    .then((res) => history.push(\"/login\")) // re-direct to login on successful register  CHECK IF IT WORKS\n    .catch((err) =>\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      })\n    );\n};\n\n// FIX, if move to type -> get issue\nexport type Decoded = {\n  id?: string;\n  email?: string;\n};\n\n// Login - get user token\nexport const loginUser = (userData: any) => (dispatch: any) => {\n  axios\n    .post(\"http://localhost:3001/api/v1/users/login\", userData)\n    .then((res) => {\n      console.log(res);\n      // Save to localStorage\n      // Set token to localStorage\n      const { token } = res.data;\n      //console.log(token)\n      localStorage.setItem(\"jwtToken\", token);\n      // Set token to Auth header\n      setAuthToken(token);\n      // Decode token to get user data\n      const decoded: any = jwt_decode(token);\n      //console.log(decoded)\n      // Set current user\n      dispatch(setCurrentUser(decoded));\n    })\n    .catch((err) => {\n      console.log(err.response.data);\n      dispatch({\n        type: GET_ERRORS,\n        payload: err.response.data,\n      });\n    });\n};\n\n// Set logged in user\nexport const setCurrentUser = (decoded: Decoded) => {\n  return {\n    type: SET_CURRENT_USER,\n    payload: decoded,\n  };\n};\n\n// User loading\nexport const setUserLoading = () => {\n  return {\n    type: USER_LOADING,\n  };\n};\n\n// Log user out\nexport const logoutUser = () => (dispatch: any) => {\n  // Remove token from local storage\n  localStorage.removeItem(\"jwtToken\");\n  // Remove auth header for future requests\n  setAuthToken(false);\n  // Set current user to empty object {} which will set isAuthenticated to false\n  dispatch(setCurrentUser({}));\n};\n","import { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nconst drawerWidth = 240\n\nexport const useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    grow: {\n      flexGrow: 1,\n    },\n    menuButton: {\n      marginRight: theme.spacing(2),\n    },\n    title: {\n      display: 'none',\n      [theme.breakpoints.up('sm')]: {\n        display: 'block',\n      },\n    },\n    link: {\n      textDecoration: 'none',\n      color: 'white',\n    },\n    search: {\n      position: 'relative',\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: fade(theme.palette.common.white, 0.15),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.common.white, 0.25),\n      },\n      marginRight: theme.spacing(2),\n      marginLeft: 0,\n      width: '100%',\n      [theme.breakpoints.up('sm')]: {\n        marginLeft: theme.spacing(3),\n        width: 'auto',\n      },\n    },\n    searchIcon: {\n      padding: theme.spacing(0, 2),\n      height: '100%',\n      position: 'absolute',\n      pointerEvents: 'none',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    inputRoot: {\n      color: 'inherit',\n    },\n    inputInput: {\n      padding: theme.spacing(1, 1, 1, 0),\n      // vertical padding + font size from searchIcon\n      paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n      transition: theme.transitions.create('width'),\n      width: '100%',\n      [theme.breakpoints.up('md')]: {\n        width: '20ch',\n      },\n    },\n    sectionDesktop: {\n      display: 'none',\n      [theme.breakpoints.up('md')]: {\n        display: 'flex',\n      },\n    },\n    sectionMobile: {\n      display: 'flex',\n      [theme.breakpoints.up('md')]: {\n        display: 'none',\n      },\n    },\n    drawer: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n    drawerPaper: {\n      width: drawerWidth,\n    },\n    drawerHeader: {\n      display: 'flex',\n      alignItems: 'center',\n      padding: theme.spacing(0, 1),\n      // necessary for content to be below app bar\n      ...theme.mixins.toolbar,\n      justifyContent: 'space-between',\n    },\n    navBarLink: {\n      color: 'black',\n      textDecoration: 'none',\n      '&:hover': {\n        textDecoration: 'underline',\n      },\n    },\n    paper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    avatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    errMessage: {\n      textAlign: 'center',\n      color: 'red',\n    },\n    form: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(1),\n    },\n    searchH1: {\n      margin: '80px 5px 20px 5px',\n    },\n    searchBookContainer: {\n      margin: '0 15px',\n    },\n    submit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    submitSearch: {\n      margin: theme.spacing(3, 0, 2),\n      width: '200px',\n    },\n    bookCard: {\n      position: 'relative',\n      marginTop: '50px',\n      flexGrow: 1,\n      width: '270px',\n      maxWidth: '300px',\n      height: '360px',\n      boxShadow: '0px 0px 2px 0px rgba(0,0,0,0.75)',\n      alignContent: 'stretch',\n      justifyContent: 'space-between',\n    },\n    bookDescription: {\n      whiteSpace: 'nowrap',\n      overflow: 'hidden',\n      textOverflow: 'ellipsis',\n    },\n    bookCardActions: {\n      position: 'absolute',\n      bottom: 0,\n    },\n\n    bookMedia: {\n      height: 140,\n    },\n    bookGrid: {\n      flexGrow: 1,\n    },\n    registerPaper: {\n      marginTop: theme.spacing(8),\n      display: 'flex',\n      flexDirection: 'column',\n      alignItems: 'center',\n    },\n    registerAvatar: {\n      margin: theme.spacing(1),\n      backgroundColor: theme.palette.secondary.main,\n    },\n    registerForm: {\n      width: '100%', // Fix IE 11 issue.\n      marginTop: theme.spacing(3),\n    },\n    registerSubmit: {\n      margin: theme.spacing(3, 0, 2),\n    },\n    cartContainer: {\n      display: 'flex',\n      margin: '15px',\n    },\n    basketContainer: {\n      marginTop: '80px',\n    },\n    cardContainer: {\n      //margin: '10px auto',\n      //width: '400px',\n      //maxWidth: 500,\n      // display: 'flex',\n      //justifyContent: 'center',\n    },\n    media: {\n      marginTop: '5px',\n      boxShadow: '0px 0px 5px 0px rgba(0,0,0,0.75)',\n\n      width: 300,\n      height: 200,\n    },\n    p: {\n      marginBottom: '5px',\n    },\n    arrow: {\n      marginTop: '80px',\n      marginLeft: '2px',\n      fontSize: '64px',\n      borderRadius: '50%',\n      align: 'center',\n    },\n    bookCardContent: {\n      paddingBottom: 0,\n    },\n    listItem: {\n      backgroundColor: 'red',\n      display: 'flex',\n      justifyContent: 'space-between',\n    },\n    listRoot: {\n      margin: '20px auto',\n      width: '50vw',\n    },\n    emptyCartContainer: {\n      marginTop: '80px',\n    },\n    h1: {\n      textAlign: 'center',\n    },\n    emptyCart: {\n      textAlign: 'center',\n    },\n    listBox: {\n      display: 'block',\n      maxWidth: '50vw',\n      margin: '0 auto',\n    },\n    cartButton: {\n      float: 'right',\n      margin: '15px',\n    },\n    // ./AddBook\n    bookFrom: {\n      display: 'flex',\n      flexDirection: 'column',\n      width: '600px',\n      margin: '0 auto',\n    },\n    inputDiv: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      alignItems: 'center',\n      margin: '15px',\n    },\n    input: {\n      height: '30px',\n      fontSize: '14pt',\n      width: '450px',\n    },\n    formButton: {\n      width: '600px',\n      textAlign: 'center',\n    },\n    inputTextarea: {\n      height: '30px',\n      fontSize: '14pt',\n      width: '450px',\n    },\n    successP: {\n      textAlign: 'center',\n      color: 'green',\n    },\n    errorP: {\n      color: 'red',\n    },\n    inputCheck: {\n      width: '30px',\n      height: '30px',\n    },\n    // EditBook\n    editForm: {\n      marginTop: '80px',\n      display: 'flex',\n      flexDirection: 'column',\n      width: '600px',\n      margin: '0 auto',\n    },\n    tabs: {\n      marginTop: '70px',\n      flexGrow: 1,\n    },\n    typography: {\n      marginLeft: '15px',\n    },\n    // about\n    aboutContainer: {\n      margin: '80px  5px 20px 5px',\n    },\n  })\n)\n","import React from 'react'\n\nimport { useStyles } from '../hooks/useStyles'\n\nfunction About() {\n  const classes = useStyles()\n\n  return (\n    <div className={classes.aboutContainer}>\n      <h1>About</h1>\n      <p>This is the school project of creating Library app.</p>\n    </div>\n  )\n}\n\nexport default About\n","import { Dispatch } from 'redux'\n\nimport {\n  ADD_PRODUCT,\n  REMOVE_PRODUCT,\n  ProductActions,\n  Product,\n} from '../../types'\n\nexport function addProduct(product: Product): ProductActions {\n  return {\n    type: ADD_PRODUCT,\n    payload: {\n      product,\n    },\n  }\n}\n\nexport function removeProduct(product: Product): ProductActions {\n  return {\n    type: REMOVE_PRODUCT,\n    payload: {\n      product,\n    },\n  }\n}\n\n// Async action processed by redux-thunk middleware\nexport function fetchProduct(productId: string) {\n  return (dispatch: Dispatch) => {\n    return fetch(`products/${productId}`)\n      .then((resp) => resp.json())\n      .then((product) => {\n        dispatch(addProduct(product))\n      })\n  }\n}\n","import React from 'react'\nimport { useDispatch } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport Grid from '@material-ui/core/Grid'\nimport Card from '@material-ui/core/Card'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\n\nimport { BooksCardProps, Product } from '../../types'\nimport { useStyles } from '../../hooks/useStyles'\nimport { addProduct } from '../../redux/actions'\nimport bookImg from '../../Images/book.jpg'\n\nexport default function BooksCard(props: BooksCardProps) {\n  // FIX get bookID\n  const { id, title, description, author } = props\n\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const history = useHistory()\n\n  // FIx add bookID?\n  const handleAddBook = () => {\n    const product: Product = {\n      id: id,\n      title: title,\n      author: author,\n    }\n    dispatch(addProduct(product))\n  }\n\n  return (\n    <Grid item>\n      <Card className={classes.bookCard}>\n        <CardActionArea>\n          <CardMedia\n            className={classes.bookMedia}\n            image={bookImg}\n            title=\"Contemplative Reptile\"\n          />\n          <CardContent>\n            <Typography gutterBottom variant=\"h6\" component=\"h6\">\n              {title}\n            </Typography>\n            <Typography gutterBottom variant=\"body2\" component=\"p\">\n              By: {author}\n            </Typography>\n            <Typography\n              variant=\"body2\"\n              color=\"textSecondary\"\n              component=\"p\"\n              className={classes.bookDescription}\n            >\n              {description}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions className={classes.bookCardActions}>\n          <Button\n            size=\"small\"\n            color=\"primary\"\n            onClick={() => history.push(`/products/${id}`)}\n          >\n            More details\n          </Button>\n          <Button size=\"small\" color=\"primary\" onClick={handleAddBook}>\n            Borrow this book\n          </Button>\n        </CardActions>\n      </Card>\n    </Grid>\n  )\n}\n","import React from 'react'\nimport Grid from '@material-ui/core/Grid'\n\nimport { BooksGridProps } from '../../types'\nimport BooksCard from '../BooksCard'\nimport { useStyles } from '../../hooks/useStyles'\n\nexport default function BooksGrid(props: BooksGridProps) {\n  const { books } = props\n  const classes = useStyles()\n\n  return (\n    <Grid container className={classes.bookGrid} spacing={2}>\n      <Grid item xs={12}>\n        <Grid container justify=\"center\" spacing={2}>\n          {books.map((book) => (\n            <BooksCard\n              key={book.isbn}\n              id={book._id}\n              isbn={book.isbn}\n              title={book.title}\n              description={book.description}\n              publisher={book.publisher}\n              author={book.author}\n              isAvailable={book.isAvailable}\n              statusProperty={book.statusProperty}\n              publishedDate={book.publishedDate}\n              categories={book.categories}\n            />\n          ))}\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n","import axios from \"axios\";\n\nconst api = axios.create({ baseURL: \"/api/v1\" });\n\nexport const addBook = (payload: any) => api.post(\"/books\", payload); //changed\nexport const getAllBooks = () => api.get(\"/books\");\nexport const updateBookById = (bookId: any, payload: any) =>\n  api.put(`/books/${bookId}`, payload);\nexport const deleteBookById = (bookId: any) => api.delete(`/books/${bookId}`);\nexport const getBookById = (bookId: any) => api.get(`/books/${bookId}`);\nexport const searchBook = (path: string) => api.get(`/books/search?${path}`);\n\nexport const addUser = (payload: any) => api.post(\"/users/register\", payload); //changed\nexport const getAllUsers = () => api.get(\"/users\");\nexport const updateUserById = (userId: any, payload: any, token: string) =>\n  api.put(`/users/${userId}`, payload, {\n    headers: {\n      \"auth-token\": token,\n    },\n  });\nexport const deleteUserById = (userId: any) => api.delete(`/users/${userId}`);\nexport const getUserById = (userId: any) => api.get(`/users/${userId}`);\nexport const loginUser = (payload: any) => api.post(\"/users/login\", payload);\n\nconst apis = {\n  addBook,\n  getAllBooks,\n  updateBookById,\n  deleteBookById,\n  getBookById,\n  searchBook,\n  addUser,\n  getAllUsers,\n  updateUserById,\n  deleteUserById,\n  getUserById,\n};\n\nexport default apis;\n","import { useState, useEffect, useMemo } from \"react\";\n\nimport api from \"../api\";\nimport { Book, PathProps } from \"../types\";\n\nfunction useBooks(path: PathProps) {\n  const [error, setError] = useState(false);\n  const [books, setBooks] = useState<Book[]>([]);\n\n  const loadData = async () => {\n    try {\n      const response = await api.getAllBooks();\n      setBooks(response.data);\n    } catch (error) {\n      setError(true);\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  useMemo(async () => {\n    // FIX? generate search path\n    // Removing keys with no value or false\n    Object.keys(path).forEach((key) => {\n      if ((path as any)[key].length === 0 || (path as any)[key] === false) {\n        delete (path as any)[key];\n      }\n    });\n    // generate a path as author=Big&title=JavaScript&categories=programming&isAvailable=true\n    const searchPath: string =\n      path &&\n      Object.keys(path)\n        .map((key) => `${key}=${(path as any)[key]}`)\n        .join(\"&\");\n\n    const response = await api.searchBook(searchPath);\n    setBooks(response.data);\n  }, [path]);\n\n  return { books, error };\n}\n\nexport default useBooks;\n","import React from 'react'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport Checkbox from '@material-ui/core/Checkbox'\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Grid from '@material-ui/core/Grid'\n\nimport { useStyles } from '../../hooks/useStyles'\nimport { SearchBookProps } from '../../types'\n\nfunction SearchBook(props: SearchBookProps) {\n  const {\n    author,\n    title,\n    category,\n    handleChangeAbility,\n    handleChangeCategory,\n    handleChangeAuthor,\n    handleSubmit,\n    handleChangeTitle,\n  } = props\n  const classes = useStyles()\n\n  return (\n    <div className={classes.searchBookContainer}>\n      <h1 className={classes.searchH1}>Find your book</h1>\n      <form onSubmit={handleSubmit}>\n        <Grid container spacing={2}>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              id=\"title\"\n              label=\"Search by title\"\n              name=\"title\"\n              autoComplete=\"title\"\n              value={title}\n              onChange={handleChangeTitle}\n            />\n          </Grid>\n          <Grid item xs={12} sm={6}>\n            <TextField\n              autoComplete=\"author\"\n              name=\"author\"\n              variant=\"outlined\"\n              fullWidth\n              id=\"author\"\n              label=\"Search by author\"\n              autoFocus\n              value={author}\n              onChange={handleChangeAuthor}\n            />\n          </Grid>\n\n          <Grid item xs={12} sm={6}>\n            <TextField\n              variant=\"outlined\"\n              fullWidth\n              id=\"category\"\n              label=\"Search by category\"\n              name=\"category\"\n              autoComplete=\"category\"\n              value={category}\n              onChange={handleChangeCategory}\n            />\n          </Grid>\n          <Grid item xs={12}>\n            <FormControlLabel\n              control={\n                <Checkbox color=\"primary\" onChange={handleChangeAbility} />\n              }\n              label=\"Only available now\"\n              labelPlacement=\"start\"\n            />\n          </Grid>\n        </Grid>\n        <Button\n          type=\"submit\"\n          variant=\"contained\"\n          color=\"primary\"\n          className={classes.submitSearch}\n        >\n          Search\n        </Button>\n      </form>\n    </div>\n  )\n}\n\nexport default SearchBook\n","import React, { useState } from 'react'\n\nimport { Path } from '../types'\nimport BooksGrid from '../components/BooksGrid'\nimport useBooks from '../hooks/useBooks'\nimport SearchBook from '../components/SearchBook'\n\nexport default function Home() {\n  const [author, setAuthor] = useState('')\n  const [title, setTitle] = useState('')\n  const [category, setCategory] = useState('')\n  const [ability, setAbility] = useState<boolean>(false)\n  const [path, setPath] = useState({})\n  const { books } = useBooks(path)\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    const path: Path = {\n      author: author,\n      title: title,\n      categories: category,\n      isAvailable: ability,\n    }\n    setPath(path)\n  }\n\n  const handleChangeAuthor = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setAuthor(e.target.value)\n  }\n  const handleChangeTitle = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setTitle(e.target.value)\n  }\n  const handleChangeCategory = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setCategory(e.target.value)\n  }\n  const handleChangeAbility = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setAbility(e.target.checked)\n  }\n\n  return (\n    <>\n      <SearchBook\n        author={author}\n        title={title}\n        category={category}\n        handleChangeAbility={handleChangeAbility}\n        handleChangeCategory={handleChangeCategory}\n        handleChangeAuthor={handleChangeAuthor}\n        handleSubmit={handleSubmit}\n        handleChangeTitle={handleChangeTitle}\n      />\n      {books && <BooksGrid books={books} />}\n    </>\n  )\n}\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport ArrowBackIcon from \"@material-ui/icons/ArrowBack\";\n\nimport { AppState, Book, ParamProps, Product } from \"../types\";\nimport api from \"../api\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { addProduct } from \"../redux/actions\";\n\nexport default function BookPage() {\n  const { id } = useParams<ParamProps>();\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const user = useSelector((state: AppState) => state.auth.user);\n  const [book, setBook] = useState<Book>();\n\n  const loadData = async () => {\n    try {\n      const response = await api.getBookById(id);\n      setBook(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleAddBook = () => {\n    if (book) {\n      const product: Product = {\n        id: book._id,\n        title: book.title,\n        author: book.author,\n      };\n      dispatch(addProduct(product));\n    }\n  };\n\n  if (!book) {\n    return <div>Product not found</div>;\n  }\n\n  return (\n    <>\n      <ArrowBackIcon\n        className={classes.arrow}\n        color=\"primary\"\n        onClick={() => history.goBack()}\n      />\n\n      <Card className={classes.cardContainer}>\n        <CardActionArea>\n          <CardMedia\n            className={classes.media}\n            image={require(\"../Images/book.jpg\")}\n            title=\"book image\"\n          />\n          <CardContent className={classes.bookCardContent}>\n            <Typography\n              gutterBottom\n              variant=\"h5\"\n              component=\"h2\"\n              className={classes.p}\n            >\n              {book.title}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              color=\"textPrimary\"\n              component=\"p\"\n              className={classes.p}\n            >\n              <b>Author:</b> {book.author}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              color=\"textPrimary\"\n              component=\"p\"\n              className={classes.p}\n            >\n              <b>Description:</b> <br />\n              {book.description}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              color=\"textPrimary\"\n              component=\"p\"\n              className={classes.p}\n            >\n              <b>Publisher:</b> {book.publisher}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              color=\"textPrimary\"\n              component=\"p\"\n              className={classes.p}\n            >\n              <b>Available to borrow:</b> {book.isAvailable ? \"Yes\" : \"No\"}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              color=\"textPrimary\"\n              component=\"p\"\n              className={classes.p}\n            >\n              <b>Category:</b> {book.categories.map((category) => category)}\n            </Typography>\n            <Typography\n              variant=\"body1\"\n              color=\"textPrimary\"\n              component=\"p\"\n              className={classes.p}\n            >\n              <b>Year:</b> {book.publishedDate}\n            </Typography>\n          </CardContent>\n        </CardActionArea>\n        <CardActions>\n          <Button size=\"small\" color=\"primary\" onClick={handleAddBook}>\n            Borrow this book\n          </Button>\n          {user.admin && (\n            <Button\n              size=\"small\"\n              color=\"secondary\"\n              onClick={() => history.push(`/book/${id}`)}\n            >\n              Edit this book\n            </Button>\n          )}\n        </CardActions>\n      </Card>\n    </>\n  );\n}\n","import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport TextField from '@material-ui/core/TextField'\nimport Link from '@material-ui/core/Link'\nimport Grid from '@material-ui/core/Grid'\nimport Box from '@material-ui/core/Box'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\nimport Typography from '@material-ui/core/Typography'\nimport Container from '@material-ui/core/Container'\n\nimport { loginUser } from '../redux/actions/auth'\nimport { AppState } from '../types'\nimport { useStyles } from '../hooks/useStyles'\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"http://localhost:3001/\">\n        localhost:3001\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  )\n}\n\nfunction Login() {\n  const classes = useStyles()\n  const dispatch = useDispatch()\n  const history = useHistory()\n  const user = useSelector((state: AppState) => state.auth)\n  const [password, setPassword] = useState('')\n  const [email, setEmail] = useState('')\n\n  useEffect(() => {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (user.isAuthenticated) {\n      history.push('/dashboard')\n    }\n  })\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    const userData = {\n      password: password,\n      email: email,\n    }\n    dispatch(loginUser(userData))\n  }\n\n  const handleChangeEmail = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setEmail(e.target.value)\n  }\n\n  const handleChangePassword = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setPassword(e.target.value)\n  }\n\n  return (\n    <>\n      <Link href=\"/\">Back to home</Link>\n      <Container component=\"main\" maxWidth=\"xs\">\n        <CssBaseline />\n        <div className={classes.paper}>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} noValidate onSubmit={handleSubmit}>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n              value={email}\n              onChange={handleChangeEmail}\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n              value={password}\n              onChange={handleChangePassword}\n            />\n            {Object.keys(user.loginError).length !== 0 ? (\n              <p className={classes.errMessage}>\n                {Object.values(user.loginError)}\n              </p>\n            ) : (\n              <p className={classes.errMessage}></p>\n            )}\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"primary\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n            {/* I use here empty \"p\" cuz had a small issue with styling material ui components with custom hook */}\n            <p></p>\n            <Grid container>\n              <Grid item xs>\n                <Link href=\"#\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href=\"/register\" variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </form>\n        </div>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </Container>\n    </>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport TextField from '@material-ui/core/TextField'\n\nimport { searchUserProps } from '../../types'\n\nconst SearchUser = (props: searchUserProps) => {\n  const { keyword, handleKeywordChange } = props\n\n  return (\n    <TextField\n      id=\"outlined-basic\"\n      label=\"Find a user\"\n      variant=\"outlined\"\n      value={keyword}\n      onChange={handleKeywordChange}\n    />\n  )\n}\n\nexport default SearchUser\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\n\nimport { TableCellProps } from \"../../types\";\nimport \"./TableCell.css\";\n\nconst TableCells = (props: TableCellProps) => {\n  const { name } = props;\n\n  return <TableCell className=\"table-cell cell\">{name}</TableCell>;\n};\n\nexport default TableCells;\n","import React from 'react'\nimport TableRow from '@material-ui/core/TableRow'\n\nimport TableCells from '../TableCell'\n\nfunction TableHeader() {\n  const headerName: string[] = [\n    'Photo',\n    'First name',\n    'Last name',\n    'Email',\n    'Created',\n    'Edit',\n    'Delete',\n  ]\n\n  return (\n    <thead aria-label=\"table head\">\n      <TableRow className=\"TableHeader\">\n        {headerName.map((name) => (\n          <TableCells key={name} name={name} />\n        ))}\n      </TableRow>\n    </thead>\n  )\n}\n\nconst MemoizedTableHeader = React.memo(TableHeader)\n\nexport default MemoizedTableHeader\n","export default __webpack_public_path__ + \"static/media/user.2fda6558.png\";","import React from \"react\";\n\nimport user from \"../../Images/user.png\";\n\nexport default function Photo() {\n  return (\n    <div aria-label=\"User photo\">\n      <img className=\"userPhoto\" src={user} alt=\"user\" />\n    </div>\n  );\n}\n","import React from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from \"@material-ui/core/Button\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport { TableRowProps } from \"../../types\";\nimport Photo from \"../UserPhoto\";\n\nfunction TableRows(props: TableRowProps) {\n  const {\n    id,\n    //admin,\n    firstName,\n    lastName,\n    email,\n    //booksProperties,\n    creationDate,\n    handleDeleteUser,\n  } = props;\n  const history = useHistory();\n\n  return (\n    <TableRow aria-label=\"table row\">\n      <TableCell className=\"table-cell\">\n        <Photo />\n      </TableCell>\n      <TableCell className=\"table-cell\">\n        <Link to={`/users/${id}`} className=\"nameLink\">\n          {firstName}\n        </Link>\n      </TableCell>\n      <TableCell className=\"table-cell\">{lastName}</TableCell>\n      <TableCell className=\"table-cell\">{email}</TableCell>\n      <TableCell className=\"table-cell\">{creationDate.slice(0, 10)}</TableCell>\n      <TableCell className=\"table-cell\">\n        <Button\n          variant=\"contained\"\n          color=\"primary\"\n          onClick={() => history.push(`/users/${id}`)}\n        >\n          Edit user\n        </Button>\n      </TableCell>\n      <TableCell className=\"table-cell\">\n        <Button\n          variant=\"contained\"\n          color=\"secondary\"\n          onClick={() => handleDeleteUser(id)}\n        >\n          <DeleteIcon />\n        </Button>\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default TableRows;\n","import React from \"react\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\n\nimport MemoizedTableHeader from \"../TableHeader\";\nimport TableRows from \"../TableRow\";\nimport { UserProps } from \"../../types\";\nimport \"./userTable.css\";\n\nconst UserTable = (props: UserProps) => {\n  const { users, handleDeleteUser } = props;\n\n  return (\n    <>\n      <Table aria-label=\"List of users\" className=\"table\">\n        <MemoizedTableHeader />\n        <TableBody>\n          {users &&\n            users?.map((user) => (\n              <TableRows\n                key={user._id}\n                id={user._id}\n                admin={user.admin}\n                firstName={user.firstName}\n                lastName={user.lastName}\n                email={user.email}\n                booksProperties={user.booksProperties}\n                creationDate={user.creationDate}\n                handleDeleteUser={handleDeleteUser}\n              />\n            ))}\n        </TableBody>\n      </Table>\n    </>\n  );\n};\n\nexport default UserTable;\n","import React, { useMemo, useState } from \"react\";\nimport { useFormik } from \"formik\";\nimport Button from \"@material-ui/core/Button\";\nimport * as Yup from \"yup\";\n\nimport { useStyles } from \"../../hooks/useStyles\";\nimport api from \"../../api\";\n\nfunction AddBook() {\n  const classes = useStyles();\n  const [isAdded, setIsAdded] = useState(false);\n\n  useMemo(() => {\n    const timer = setTimeout(() => {\n      if (isAdded) {\n        setIsAdded(false);\n      }\n    }, 2000);\n\n    return () => clearTimeout(timer);\n  }, [isAdded]);\n\n  const BookValidationSchema = Yup.object({\n    isbn: Yup.string()\n      .matches(/^[0-9]*$/, \"Only digits acceptable\")\n      .max(15, \"Must be 15 characters or less\")\n      .required(\"Required\"),\n    title: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n    description: Yup.string()\n      .max(200, \"Must be 200 characters or less\")\n      .required(\"Required\"),\n    publisher: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n    author: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n    publishedDate: Yup.string()\n      .matches(/^[0-9]*$/, \"Only digits acceptable\")\n      .min(4, \"Must be 4 digits\")\n      .max(4, \"Must be 4 digits\")\n      .required(\"Required\"),\n    categories: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      isbn: \"\",\n      title: \"\",\n      description: \"\",\n      publisher: \"\",\n      author: \"\",\n      publishedDate: \"\",\n      categories: \"\",\n      isAvailable: true,\n    },\n    validationSchema: BookValidationSchema,\n    onSubmit: async (values, { resetForm }) => {\n      try {\n        const res = await api.addBook(values);\n        if (res.status === 200) {\n          setIsAdded(true);\n          resetForm({\n            values: {\n              isbn: \"\",\n              title: \"\",\n              description: \"\",\n              publisher: \"\",\n              author: \"\",\n              publishedDate: \"\",\n              categories: \"\",\n              isAvailable: true,\n            },\n          });\n        }\n      } catch (err) {\n        //FIX handle error\n        console.log(err.message);\n      }\n    },\n  });\n\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit} className={classes.bookFrom}>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"isbn\">ISBN</label>\n          <div>\n            <input\n              id=\"isbn\"\n              name=\"isbn\"\n              type=\"number\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.isbn}\n            />\n            {formik.errors.isbn ? (\n              <p className={classes.errorP}>{formik.errors.isbn}</p>\n            ) : null}\n          </div>\n        </div>\n\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"title\">Title</label>\n          <div>\n            <input\n              id=\"title\"\n              name=\"title\"\n              type=\"text\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.title}\n            />\n            {formik.errors.title ? (\n              <p className={classes.errorP}>{formik.errors.title}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"author\">Author</label>\n          <div>\n            <input\n              id=\"author\"\n              name=\"author\"\n              type=\"text\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.author}\n            />\n            {formik.errors.author ? (\n              <p className={classes.errorP}>{formik.errors.author}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"description\">Description</label>\n          <div>\n            <textarea\n              id=\"description\"\n              name=\"description\"\n              className={classes.inputTextarea}\n              onChange={formik.handleChange}\n              value={formik.values.description}\n            ></textarea>\n            {formik.errors.description ? (\n              <p className={classes.errorP}>{formik.errors.description}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"publisher\">Publisher</label>\n          <div>\n            <input\n              id=\"publisher\"\n              name=\"publisher\"\n              type=\"text\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.publisher}\n            />\n            {formik.errors.publisher ? (\n              <p className={classes.errorP}>{formik.errors.publisher}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"publishedDate\">Published date</label>\n          <div>\n            <input\n              id=\"publishedDate\"\n              name=\"publishedDate\"\n              type=\"number\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.publishedDate}\n            />\n            {formik.errors.publishedDate ? (\n              <p className={classes.errorP}>{formik.errors.publishedDate}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"categories\">Categories</label>\n          <div>\n            <input\n              id=\"categories\"\n              name=\"categories\"\n              type=\"text\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.categories}\n            />\n            {formik.errors.categories ? (\n              <p className={classes.errorP}>{formik.errors.categories}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"isAvailable\">Available</label>\n          <div>\n            <input\n              type=\"checkbox\"\n              id=\"isAvailable\"\n              className={classes.inputCheck}\n              name=\"isAvailable\"\n              onChange={formik.handleChange}\n              checked={formik.values.isAvailable}\n            />\n            {formik.errors.isAvailable ? (\n              <p className={classes.errorP}>{formik.errors.isAvailable}</p>\n            ) : null}\n          </div>\n        </div>\n        {isAdded && <p className={classes.successP}>Book was added</p>}\n        <div className={classes.inputDiv}>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            type=\"submit\"\n            className={classes.formButton}\n          >\n            Add a book\n          </Button>\n        </div>\n      </form>\n    </>\n  );\n}\n\nexport default AddBook;\n","import React from \"react\";\nimport TableCell from \"@material-ui/core/TableCell\";\n\nimport { BookTableCellProps } from \"../../../types\";\n\nconst TableCells = (props: BookTableCellProps) => {\n  const { name } = props;\n  return <TableCell className=\"table-cell cell\">{name}</TableCell>;\n};\n\nexport default TableCells;\n","import React from 'react'\nimport TableRow from '@material-ui/core/TableRow'\n\nimport TableCells from '../TableCell'\n\nfunction TableHeader() {\n  const headerName: string[] = [\n    'Photo',\n    'Title',\n    'Author',\n    'Borrowed day',\n    'Return day',\n    '',\n  ]\n\n  return (\n    <thead aria-label=\"table head\">\n      <TableRow className=\"TableHeader\">\n        {headerName.map((name) => (\n          <TableCells key={name} name={name} />\n        ))}\n      </TableRow>\n    </thead>\n  )\n}\n\nconst MemoizedTableHeader = React.memo(TableHeader)\n\nexport default MemoizedTableHeader\n","import React from \"react\";\n\nimport book from \"../../../Images/book.jpg\";\nimport \"./photo.css\";\n\nexport default function BookPhoto() {\n  return (\n    <div aria-label=\"Book photo\">\n      <img className=\"bookPhoto\" src={book} alt=\"book\" />\n    </div>\n  );\n}\n","import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport Button from \"@material-ui/core/Button\";\n\nimport { BookTableRowProps } from \"../../../types\";\nimport api from \"../../../api\";\nimport Photo from \"../Photo\";\nimport \"./TableRows.css\";\n\nfunction TableRows(props: BookTableRowProps) {\n  const { bookId, borrowDate, returnDate, handleReturnBook } = props;\n  const [title, setTitle] = useState(\"\");\n  const [author, setAuthor] = useState(\"\");\n\n  const getInfo = async () => {\n    try {\n      const res = await api.getBookById(bookId);\n      setTitle(res.data.title);\n      setAuthor(res.data.author);\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  useEffect(() => {\n    getInfo();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <TableRow aria-label=\"table row\">\n      <TableCell className=\"table-cell\">\n        <Photo />\n      </TableCell>\n      <TableCell className=\"table-cell\">\n        <Link to={`/products/${bookId}`} className=\"nameLink\">\n          {title}\n        </Link>\n      </TableCell>\n      <TableCell className=\"table-cell\">{author}</TableCell>\n      <TableCell className=\"table-cell\">\n        {borrowDate ? borrowDate.slice(0, 10) : borrowDate}\n      </TableCell>\n      <TableCell className=\"table-cell\">\n        {returnDate && returnDate.length < 25\n          ? returnDate.slice(0, 10)\n          : `Not returned yet`}\n      </TableCell>\n      <TableCell className=\"table-cell\">\n        {returnDate ? (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            disabled\n            onClick={() => handleReturnBook(bookId)}\n          >\n            Returned\n          </Button>\n        ) : (\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={() => handleReturnBook(bookId)}\n          >\n            Return this book\n          </Button>\n        )}\n      </TableCell>\n    </TableRow>\n  );\n}\n\nexport default TableRows;\n","import React from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\n\nimport MemoizedTableHeader from \"../TableHeader\";\nimport { BookProps } from \"../../../types\";\nimport TableRows from \"../TableRow\";\nimport \"./bookTable.css\";\n\nconst BookTable = (props: BookProps) => {\n  const { books, handleReturnBook } = props;\n\n  return (\n    <>\n      <Table aria-label=\"List of users\" className=\"table\">\n        <MemoizedTableHeader />\n        <TableBody>\n          {books &&\n            books?.map((book) => (\n              <TableRows\n                key={uuidv4()}\n                bookId={book.bookId}\n                borrowDate={book.borrowDate}\n                returnDate={book.returnDate}\n                handleReturnBook={handleReturnBook}\n              />\n            ))}\n        </TableBody>\n      </Table>\n    </>\n  );\n};\n\nexport default BookTable;\n","import React, { useEffect, useMemo, useState } from \"react\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport { useSelector } from \"react-redux\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { AppState, TabPanelProps, User } from \"../../types\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport SearchUser from \"../SearchUser\";\nimport UserTable from \"../UserTable\";\nimport AddBook from \"../AddBook\";\nimport api from \"../../api\";\nimport BookTable from \"../BooksTable/BookTable\";\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <div>{children}</div>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nfunction a11yProps(index: any) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nfunction AdminDashboard() {\n  const classes = useStyles();\n  const val = sessionStorage.getItem(\"tabIndex\");\n  const init = val ? parseInt(val) : 0;\n  const [value, setValue] = useState(init);\n  const [users, setUsers] = useState<User[]>([]);\n  const [user, setUser] = useState<User>();\n  const [sortedBook, setSotedBook] = useState<any>();\n  const token: string = localStorage.jwtToken;\n  const [data, setData] = useState<User[]>([]);\n  const [keyword, setKeyword] = useState(\"\");\n  const id = useSelector((state: AppState) => state.auth.user.id);\n\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setValue(newValue);\n    sessionStorage.setItem(\"tabIndex\", JSON.stringify(newValue));\n  };\n\n  const loadUsers = async () => {\n    try {\n      const response = await api.getAllUsers();\n      setData(response.data);\n      const res = await api.getUserById(id);\n      setUser(res.data);\n    } catch (error) {\n      //FIX error handling\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    loadUsers();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // sort array by date\n    if (user) {\n      setSotedBook(\n        user?.booksProperties.sort((a, b) => {\n          let dateA = new Date(a.borrowDate).getTime();\n          let dateB = new Date(b.borrowDate).getTime();\n          return dateA - dateB;\n        })\n      );\n    }\n  }, [user]);\n\n  useMemo(() => {\n    let foundedUsers = [...data];\n    if (keyword) {\n      foundedUsers = data.filter(\n        (user: User) =>\n          user.firstName.toLowerCase().includes(keyword.toLowerCase()) ||\n          user.lastName.toLowerCase().includes(keyword.toLowerCase()) ||\n          user.email.toLowerCase().includes(keyword.toLowerCase())\n      );\n    }\n    setUsers(foundedUsers);\n  }, [keyword, data]);\n\n  const handleKeywordChange = (\n    e: React.ChangeEvent<HTMLInputElement>\n  ): void => {\n    setKeyword(e.target.value);\n  };\n\n  const handleDeleteUser = async (id: string) => {\n    if (\n      window.confirm(\"Are you sure you want to delete this user from database?\")\n    ) {\n      try {\n        await api.deleteUserById(id);\n        loadUsers();\n      } catch (err) {\n        //FIX error handling\n        console.log(err.message);\n      }\n    }\n  };\n\n  const handleReturnBook = async (bookId: string) => {\n    const payload: any = {\n      booksProperties: user?.booksProperties,\n    };\n\n    payload?.booksProperties.map(\n      async (book: { bookId: string; returnDate: Date; borrowDate: Date }) => {\n        if (book.bookId === bookId) {\n          book.returnDate = new Date();\n          try {\n            const res = await api.updateUserById(user?._id, payload, token);\n            console.log(res);\n            setUser(res.data);\n          } catch (err) {\n            console.log(err.message);\n          }\n        }\n      }\n    );\n  };\n\n  return (\n    <div className={classes.tabs}>\n      <Typography className={classes.typography} variant=\"h6\" component=\"h3\">\n        Hey there, {user?.firstName}\n      </Typography>\n\n      <AppBar\n        position=\"static\"\n        // move to useStyle hook\n        style={{ background: \"transparent\", boxShadow: \"none\", color: \"black\" }}\n      >\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          aria-label=\"admin dashboard tabs\"\n          centered\n        >\n          <Tab label=\"Add Book\" {...a11yProps(0)} />\n          <Tab label=\"Users\" {...a11yProps(1)} />\n          <Tab label=\"Books\" {...a11yProps(2)} />\n          <Tab label=\"Info\" {...a11yProps(3)} />\n        </Tabs>\n      </AppBar>\n\n      <TabPanel value={value} index={0}>\n        <AddBook />\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        <SearchUser\n          keyword={keyword}\n          handleKeywordChange={handleKeywordChange}\n        />\n        {users && (\n          <UserTable users={users} handleDeleteUser={handleDeleteUser} />\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        {user && user?.booksProperties.length > 0 ? (\n          <BookTable books={sortedBook} handleReturnBook={handleReturnBook} />\n        ) : (\n          <p style={{ height: \"75vh\" }}>No books taken</p>\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={3}>\n        <div>\n          <p>\n            Name: {user?.firstName} {user?.lastName}\n          </p>\n          <p>Email: {user?.email}</p>\n        </div>\n      </TabPanel>\n    </div>\n  );\n}\n\nexport default AdminDashboard;\n","import React from 'react'\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\nimport Button from '@material-ui/core/Button'\n\nimport { useStyles } from '../../hooks/useStyles'\nimport { UserTabProps } from '../../types'\n\nfunction UserTab(props: UserTabProps) {\n  const { user, handleUpdateInfo } = props\n  const classes = useStyles()\n\n  const UserValidationSchema = Yup.object({\n    firstName: Yup.string()\n      .max(15, 'Must be 15 characters or less')\n      .required('Required'),\n    lastName: Yup.string()\n      .max(40, 'Must be 40 characters or less')\n      .required('Required'),\n    email: Yup.string()\n      .max(2000, 'Must be 2000 characters or less')\n      .required('Required'),\n  })\n\n  const formik = useFormik({\n    initialValues: {\n      firstName: user?.firstName,\n      lastName: user?.lastName,\n      email: user?.email,\n    },\n    enableReinitialize: true,\n    validationSchema: UserValidationSchema,\n    onSubmit: (values) => handleUpdateInfo(values),\n  })\n  return (\n    <>\n      {user ? (\n        <form onSubmit={formik.handleSubmit} className={classes.editForm}>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"firstName\">First name</label>\n            <div>\n              <input\n                id=\"firstName\"\n                name=\"firstName\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.firstName}\n              />\n              {formik.errors.firstName ? (\n                <p className={classes.errorP}>{formik.errors.firstName}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"lastName\">Last name</label>\n            <div>\n              <input\n                id=\"lastName\"\n                name=\"lastName\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.lastName}\n              />\n              {formik.errors.lastName ? (\n                <p className={classes.errorP}>{formik.errors.lastName}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"email\">Email</label>\n            <div>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.email}\n              />\n              {formik.errors.email ? (\n                <p className={classes.errorP}>{formik.errors.email}</p>\n              ) : null}\n            </div>\n          </div>\n\n          <div className={classes.inputDiv}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              type=\"submit\"\n              className={classes.formButton}\n            >\n              Update\n            </Button>\n          </div>\n        </form>\n      ) : (\n        <span style={{ marginTop: '80px' }}>loading...</span>\n      )}\n    </>\n  )\n}\n\nexport default UserTab\n","import React from 'react'\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\nimport Button from '@material-ui/core/Button'\n\nimport { useStyles } from '../../hooks/useStyles'\nimport { ChangePasswordProps } from '../../types'\n\nfunction ChangePassword(props: ChangePasswordProps) {\n  const { handleChangePassword } = props\n  const classes = useStyles()\n\n  const UserValidationSchema = Yup.object({\n    currentPassword: Yup.string()\n      .min(6, 'Minimum 6 characters')\n      .max(15, 'Must be 15 characters or less')\n      .required('Required'),\n    password: Yup.string()\n      .min(6, 'Minimum 6 characters')\n      .max(40, 'Must be 40 characters or less')\n      .required('Required'),\n    confirmPassword: Yup.string()\n      .oneOf([Yup.ref('password')], 'Passwords must match')\n      .required('Required'),\n  })\n\n  const formik = useFormik({\n    initialValues: {\n      currentPassword: '',\n      password: '',\n      confirmPassword: '',\n    },\n    enableReinitialize: true,\n    validationSchema: UserValidationSchema,\n    onSubmit: (values) => handleChangePassword(values),\n  })\n  return (\n    <>\n      <form onSubmit={formik.handleSubmit} className={classes.editForm}>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"currentPassword\">Current password</label>\n          <div>\n            <input\n              id=\"currentPassword\"\n              name=\"currentPassword\"\n              type=\"password\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.currentPassword}\n            />\n            {formik.errors.currentPassword ? (\n              <p className={classes.errorP}>{formik.errors.currentPassword}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"password\">Password</label>\n          <div>\n            <input\n              id=\"password\"\n              name=\"password\"\n              type=\"password\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.password}\n            />\n            {formik.errors.password ? (\n              <p className={classes.errorP}>{formik.errors.password}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <label htmlFor=\"confirmPassword\">Confirm password</label>\n          <div>\n            <input\n              id=\"confirmPassword\"\n              name=\"confirmPassword\"\n              type=\"password\"\n              className={classes.input}\n              onChange={formik.handleChange}\n              value={formik.values.confirmPassword}\n            />\n            {formik.errors.confirmPassword ? (\n              <p className={classes.errorP}>{formik.errors.confirmPassword}</p>\n            ) : null}\n          </div>\n        </div>\n        <div className={classes.inputDiv}>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            type=\"submit\"\n            className={classes.formButton}\n          >\n            Update\n          </Button>\n        </div>\n      </form>\n    </>\n  )\n}\n\nexport default ChangePassword\n","import React, { useEffect, useState } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport Typography from \"@material-ui/core/Typography\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Tabs from \"@material-ui/core/Tabs\";\nimport Tab from \"@material-ui/core/Tab\";\nimport Box from \"@material-ui/core/Box\";\n\nimport { AppState, TabPanelProps, User } from \"../../types\";\nimport { useStyles } from \"../../hooks/useStyles\";\nimport BookTable from \"../BooksTable/BookTable\";\nimport UserTab from \"../UserTab\";\nimport ChangePassword from \"../ChangePassword\";\nimport api from \"../../api\";\n\nfunction TabPanel(props: TabPanelProps) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <div>{children}</div>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nfunction a11yProps(index: any) {\n  return {\n    id: `simple-tab-${index}`,\n    \"aria-controls\": `simple-tabpanel-${index}`,\n  };\n}\n\nfunction UserDashboard() {\n  const classes = useStyles();\n  const auth = useSelector((state: AppState) => state.auth);\n  const token: string = localStorage.jwtToken;\n  const id = useSelector((state: AppState) => state.auth.user.id);\n  const [user, setUser] = useState<User>();\n  const [sortedBook, setSotedBook] = useState<any>();\n  const sessionValue = sessionStorage.getItem(\"tabIndex\");\n  const initValue = sessionValue ? parseInt(sessionValue) : 0;\n  const [value, setValue] = React.useState(initValue);\n\n  const loadData = async () => {\n    try {\n      const response = await api.getUserById(id);\n      setUser(response.data);\n    } catch (error) {\n      // FIX handle error\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  useEffect(() => {\n    // sort array by date\n    if (user) {\n      setSotedBook(\n        user?.booksProperties.sort((a, b) => {\n          let dateA = new Date(a.borrowDate).getTime();\n          let dateB = new Date(b.borrowDate).getTime();\n          return dateB - dateA;\n        })\n      );\n    }\n  }, [user]);\n\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setValue(newValue);\n    sessionStorage.setItem(\"tabIndex\", JSON.stringify(newValue));\n  };\n\n  if (!auth.isAuthenticated) {\n    return <Redirect to=\"/login\" />;\n  }\n\n  const handleReturnBook = async (bookId: string) => {\n    const payload: any = {\n      booksProperties: user?.booksProperties,\n    };\n\n    payload?.booksProperties.map(\n      async (book: { bookId: string; returnDate: Date; borrowDate: Date }) => {\n        if (book.bookId === bookId) {\n          book.returnDate = new Date();\n          try {\n            const res = await api.updateUserById(user?._id, payload, token);\n            console.log(res);\n            setUser(res.data);\n          } catch (err) {\n            console.log(err.message);\n          }\n        }\n      }\n    );\n  };\n\n  const handleUpdateInfo = async (values: any) => {\n    try {\n      const res = await api.updateUserById(user?._id, values, token);\n      console.log(res);\n      setUser(res.data);\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n  const handleChangePassword = async (values: any) => {\n    const payload = {\n      password: values.password,\n      currentPassword: values.currentPassword,\n    };\n    try {\n      const res = await api.updateUserById(user?._id, payload, token);\n      if (res.status === 200) console.log(\"Password changed\");\n    } catch (err) {\n      console.log(err.message);\n    }\n  };\n\n  return (\n    <div className={classes.tabs}>\n      <Typography className={classes.typography} variant=\"h6\" component=\"h3\">\n        Hey there, {user?.firstName}\n      </Typography>\n\n      <AppBar\n        position=\"static\"\n        style={{ background: \"transparent\", boxShadow: \"none\", color: \"black\" }}\n      >\n        <Tabs\n          value={value}\n          onChange={handleChange}\n          aria-label=\"User dashboard tabs\"\n          centered\n        >\n          <Tab label=\"Books\" {...a11yProps(0)} />\n          <Tab label=\"User\" {...a11yProps(1)} />\n          <Tab label=\"Change password\" {...a11yProps(2)} />\n        </Tabs>\n      </AppBar>\n\n      <TabPanel value={value} index={0}>\n        {user && user?.booksProperties.length > 0 ? (\n          <BookTable books={sortedBook} handleReturnBook={handleReturnBook} />\n        ) : (\n          <p style={{ height: \"75vh\" }}>No books taken</p>\n        )}\n      </TabPanel>\n      <TabPanel value={value} index={1}>\n        {user && <UserTab user={user} handleUpdateInfo={handleUpdateInfo} />}\n      </TabPanel>\n      <TabPanel value={value} index={2}>\n        {user && (\n          <ChangePassword id={id} handleChangePassword={handleChangePassword} />\n        )}\n      </TabPanel>\n    </div>\n  );\n}\n\nexport default UserDashboard;\n","import React from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n\nimport { AppState } from \"../types\";\nimport AdminDashboard from \"../components/Dashboards/AdminDashboard\";\nimport UserDashboard from \"../components/Dashboards/UserDashboard\";\n\nfunction Dashboard() {\n  const auth = useSelector((state: AppState) => state.auth);\n\n  if (!auth.isAuthenticated) {\n    return <Redirect to=\"/login\" />;\n  }\n  return <>{auth.user.admin ? <AdminDashboard /> : <UserDashboard />}</>;\n}\n\nexport default Dashboard;\n","import React, { useEffect } from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { useHistory } from 'react-router-dom'\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\nimport Avatar from '@material-ui/core/Avatar'\nimport Button from '@material-ui/core/Button'\nimport Container from '@material-ui/core/Container'\nimport CssBaseline from '@material-ui/core/CssBaseline'\nimport TextField from '@material-ui/core/TextField'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport Link from '@material-ui/core/Link'\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined'\n\nimport { AppState } from '../types'\nimport { registerUser } from '../redux/actions/auth'\nimport { useStyles } from '../hooks/useStyles'\n\nfunction Register() {\n  const auth = useSelector((state: AppState) => state.auth)\n  const history = useHistory()\n  const dispatch = useDispatch()\n  const classes = useStyles()\n\n  useEffect(() => {\n    // If logged in and user navigates to Login page, should redirect them to dashboard\n    if (auth.isAuthenticated) {\n      history.push('/dashboard')\n    }\n  })\n\n  const NewUserValidationSchema = Yup.object({\n    firstName: Yup.string()\n      .max(15, 'Must be 15 characters or less')\n      .required('Required'),\n    lastName: Yup.string()\n      .max(40, 'Must be 40 characters or less')\n      .required('Required'),\n    email: Yup.string()\n      .max(100, 'Must be 100 characters or less')\n      .required('Required'),\n    password: Yup.string()\n      .max(40, 'Must be 40 characters or less')\n      .required('Required'),\n    confirmPassword: Yup.string()\n      .oneOf([Yup.ref('password')], 'Passwords must match')\n      .required('Required'),\n  })\n\n  const formik = useFormik({\n    initialValues: {\n      firstName: '',\n      lastName: '',\n      email: '',\n      password: '',\n      confirmPassword: '',\n    },\n    validationSchema: NewUserValidationSchema,\n    onSubmit: (values) => handleNewUser(values),\n  })\n\n  const handleNewUser = (values: any) => {\n    const newUser = {\n      firstName: values.firstName,\n      lastName: values.lastName,\n      password: values.password,\n      email: values.email,\n    }\n    dispatch(registerUser(newUser, history))\n  }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.registerPaper}>\n        <Avatar className={classes.registerAvatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form onSubmit={formik.handleSubmit}>\n          <Grid container spacing={2}>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                autoFocus\n                value={formik.values.firstName}\n                onChange={formik.handleChange}\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastName\"\n                label=\"Last Name\"\n                name=\"lastName\"\n                autoComplete=\"lname\"\n                value={formik.values.lastName}\n                onChange={formik.handleChange}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n                value={formik.values.email}\n                onChange={formik.handleChange}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"Password\"\n                type=\"password\"\n                id=\"password\"\n                autoComplete=\"current-password\"\n                value={formik.values.password}\n                onChange={formik.handleChange}\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"confirmPassword\"\n                label=\"Confirm Password\"\n                type=\"password\"\n                id=\"confirmPassword\"\n                autoComplete=\"current-password\"\n                value={formik.values.confirmPassword}\n                onChange={formik.handleChange}\n              />\n            </Grid>\n          </Grid>\n          <p></p>\n          <Button\n            className={classes.registerSubmit}\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href=\"/login\" variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n    </Container>\n  )\n}\n\nexport default Register\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport Card from '@material-ui/core/Card'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardContent from '@material-ui/core/CardContent'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useStyles } from '../../hooks/useStyles'\nimport { ListItemProps } from '../../types'\n\nfunction ListItemCart(props: ListItemProps) {\n  const { product, handleRemoveBook } = props\n  const classes = useStyles()\n\n  return (\n    <Card className={classes.cartContainer}>\n      <CardActionArea>\n        <CardContent>\n          <Typography gutterBottom variant=\"h6\" component=\"h6\">\n            {product.title}\n          </Typography>\n          <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n            by {product.author}\n          </Typography>\n        </CardContent>\n      </CardActionArea>\n      <CardActions>\n        <Button>\n          <DeleteIcon onClick={() => handleRemoveBook(product)} />\n        </Button>\n      </CardActions>\n    </Card>\n  )\n}\n\nexport default ListItemCart\n","import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Button from \"@material-ui/core/Button\";\n\nimport { AppState, Product } from \"../types\";\nimport ListItemCart from \"../components/ListItemCart\";\nimport { useStyles } from \"../hooks/useStyles\";\nimport { removeProduct } from \"../redux/actions\";\nimport api from \"../api\";\n\nfunction ShoppingCart() {\n  const classes = useStyles();\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const products = useSelector((state: AppState) => state.product.inCart);\n  const auth = useSelector((state: AppState) => state.auth);\n  const token: string = localStorage.jwtToken;\n\n  const handleRemoveBook = (p: Product) => {\n    dispatch(removeProduct(p));\n  };\n\n  const handleCheckout = async () => {\n    const useWhoBorrow = {\n      borrowerId: auth.user.id,\n      borrowDate: new Date(),\n      returnDate: \"\",\n    };\n    const resUser = await api.getUserById(auth.user.id);\n    let bookProp = resUser.data.booksProperties;\n    let newBookProps = [...bookProp];\n\n    await Promise.all(\n      products.map(\n        async (item): Promise<any> => {\n          // add userID to book properties\n          const res = await api.getBookById(item.id);\n          let statusProp = res.data.statusProperty;\n          let newStatusProp = [...statusProp];\n          newStatusProp.push(useWhoBorrow);\n          let payload = {\n            statusProperty: newStatusProp,\n          };\n          try {\n            const req = await api.updateBookById(item.id, payload);\n            console.log(req);\n          } catch (err) {\n            console.log(err.message);\n          }\n          let lendedBook = {\n            bookId: item.id,\n            borrowDate: new Date(),\n            returnDate: \"\",\n          };\n          newBookProps.push(lendedBook);\n\n          // remove books from cart\n          dispatch(removeProduct(item));\n        }\n      )\n    )\n      .then(async () => {\n        // Add bookIds to user\n        let userpayload = {\n          booksProperties: newBookProps,\n        };\n        try {\n          const req = await api.updateUserById(\n            auth.user.id,\n            userpayload,\n            token\n          );\n          // FIX add notification of success to user\n          console.log(req);\n        } catch (err) {\n          console.log(err.message);\n        }\n      })\n      .then(() => console.log(\"done\"));\n    /* What if there is an issue updating for ex user, \n       then need to cancel previos operations for book?\n    */\n  };\n  if (products.length === 0) {\n    return (\n      <div className={classes.emptyCartContainer}>\n        <Typography variant=\"h3\" className={classes.h1}>\n          Cart\n        </Typography>\n        <Typography variant=\"body2\" className={classes.emptyCart}>\n          You cart is empty\n        </Typography>\n      </div>\n    );\n  }\n  return (\n    <div className={classes.basketContainer}>\n      <Typography variant=\"h3\" className={classes.h1}>\n        Cart\n      </Typography>\n      <div className={classes.listBox}>\n        {products.length > 0 &&\n          products.map((product) => (\n            <ListItemCart\n              key={product.id}\n              product={product}\n              handleRemoveBook={handleRemoveBook}\n            />\n          ))}\n\n        {auth.isAuthenticated ? (\n          <Button\n            className={classes.cartButton}\n            variant=\"contained\"\n            color=\"primary\"\n            onClick={handleCheckout}\n          >\n            Checkout\n          </Button>\n        ) : products.length === 0 ? (\n          <div></div>\n        ) : (\n          <Button\n            className={classes.cartButton}\n            onClick={() => history.push(\"/login\")}\n          >\n            Login to checkout\n          </Button>\n        )}\n      </div>\n    </div>\n  );\n}\n\nexport default ShoppingCart;\n","import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Button from \"@material-ui/core/Button\";\nimport { useFormik } from \"formik\";\nimport * as Yup from \"yup\";\n\nimport { useStyles } from \"../hooks/useStyles\";\nimport api from \"../api\";\nimport { Book, ParamProps } from \"../types\";\n\nfunction EditBook() {\n  const { id } = useParams<ParamProps>();\n  const classes = useStyles();\n  const [book, setBook] = useState<Book>();\n\n  const loadData = async () => {\n    try {\n      const response = await api.getBookById(id);\n      setBook(response.data);\n    } catch (error) {\n      console.log(error);\n    }\n  };\n\n  useEffect(() => {\n    loadData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const BookValidationSchema = Yup.object({\n    isbn: Yup.string()\n      .matches(/^[0-9]*$/, \"Only digits acceptable\")\n      .max(15, \"Must be 15 characters or less\")\n      .required(\"Required\"),\n    title: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n    description: Yup.string()\n      .max(2000, \"Must be 2000 characters or less\")\n      .required(\"Required\"),\n    publisher: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n    author: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n    publishedDate: Yup.string()\n      .matches(/^[0-9]*$/, \"Only digits acceptable\")\n      .min(4, \"Must be 4 digits\")\n      .max(4, \"Must be 4 digits\")\n      .required(\"Required\"),\n    categories: Yup.string()\n      .max(40, \"Must be 40 characters or less\")\n      .required(\"Required\"),\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      isbn: book?.isbn,\n      title: book?.title,\n      description: book?.description,\n      publisher: book?.publisher,\n      author: book?.author,\n      isAvailable: book?.isAvailable,\n      publishedDate: book?.publishedDate,\n      categories: book?.categories[0],\n    },\n    enableReinitialize: true,\n    validationSchema: BookValidationSchema,\n    onSubmit: async (values) => {\n      alert(JSON.stringify(values, null, 2));\n      try {\n        await api.updateBookById(book?._id, values);\n      } catch (err) {\n        console.log(err.message);\n      }\n    },\n  });\n\n  return (\n    <>\n      {book ? (\n        <form onSubmit={formik.handleSubmit} className={classes.editForm}>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"isbn\">ISBN</label>\n            <div>\n              <input\n                id=\"isbn\"\n                name=\"isbn\"\n                type=\"number\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.isbn}\n              />\n              {formik.errors.isbn ? (\n                <p className={classes.errorP}>{formik.errors.isbn}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"title\">Title</label>\n            <div>\n              <input\n                id=\"title\"\n                name=\"title\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.title}\n              />\n              {formik.errors.title ? (\n                <p className={classes.errorP}>{formik.errors.title}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"author\">Author</label>\n            <div>\n              <input\n                id=\"author\"\n                name=\"author\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.author}\n              />\n              {formik.errors.author ? (\n                <p className={classes.errorP}>{formik.errors.author}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"description\">Description</label>\n            <div>\n              <textarea\n                id=\"description\"\n                name=\"description\"\n                className={classes.inputTextarea}\n                onChange={formik.handleChange}\n                value={formik.values.description}\n              ></textarea>\n              {formik.errors.description ? (\n                <p className={classes.errorP}>{formik.errors.description}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"publisher\">Publisher</label>\n            <div>\n              <input\n                id=\"publisher\"\n                name=\"publisher\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.publisher}\n              />\n              {formik.errors.publisher ? (\n                <p className={classes.errorP}>{formik.errors.publisher}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"publishedDate\">Published date</label>\n            <div>\n              <input\n                id=\"publishedDate\"\n                name=\"publishedDate\"\n                type=\"number\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.publishedDate}\n              />\n              {formik.errors.publishedDate ? (\n                <p className={classes.errorP}>{formik.errors.publishedDate}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"categories\">Categories</label>\n            <div>\n              <input\n                id=\"categories\"\n                name=\"categories\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.categories}\n              />\n              {formik.errors.categories ? (\n                <p className={classes.errorP}>{formik.errors.categories}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"isAvailable\">Available</label>\n            <div>\n              <input\n                type=\"checkbox\"\n                id=\"isAvailable\"\n                className={classes.inputCheck}\n                name=\"isAvailable\"\n                onChange={formik.handleChange}\n                checked={formik.values.isAvailable}\n              />\n              {formik.errors.isAvailable ? (\n                <p className={classes.errorP}>{formik.errors.isAvailable}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              type=\"submit\"\n              className={classes.formButton}\n            >\n              Update\n            </Button>\n          </div>\n        </form>\n      ) : (\n        <span style={{ marginTop: \"80px\" }}>loading...</span>\n      )}\n    </>\n  );\n}\n\nexport default EditBook;\n","import React, { useEffect, useState } from 'react'\nimport { useParams } from 'react-router-dom'\nimport Button from '@material-ui/core/Button'\nimport { useFormik } from 'formik'\nimport * as Yup from 'yup'\n\nimport { useStyles } from '../hooks/useStyles'\nimport api from '../api'\nimport { User, ParamProps } from '../types'\n\nfunction EditBook() {\n  const token: string = localStorage.jwtToken\n  //console.log(typeof token)\n  const { id } = useParams<ParamProps>()\n  const classes = useStyles()\n  const [user, setUser] = useState<User>()\n\n  const loadData = async () => {\n    try {\n      const response = await api.getUserById(id)\n      setUser(response.data)\n    } catch (error) {\n      console.log(error)\n    }\n  }\n\n  useEffect(() => {\n    loadData()\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [])\n\n  const UserValidationSchema = Yup.object({\n    firstName: Yup.string()\n      .max(15, 'Must be 15 characters or less')\n      .required('Required'),\n    lastName: Yup.string()\n      .max(40, 'Must be 40 characters or less')\n      .required('Required'),\n    email: Yup.string()\n      .max(2000, 'Must be 200 characters or less')\n      .required('Required'),\n  })\n\n  const formik = useFormik({\n    initialValues: {\n      firstName: user?.firstName,\n      lastName: user?.lastName,\n      email: user?.email,\n    },\n    enableReinitialize: true,\n    validationSchema: UserValidationSchema,\n    onSubmit: async (values) => {\n      alert(JSON.stringify(values, null, 2))\n      try {\n        await api.updateUserById(user?._id, values, token)\n      } catch (err) {\n        console.log(err.message)\n      }\n    },\n  })\n\n  return (\n    <>\n      {user ? (\n        <form onSubmit={formik.handleSubmit} className={classes.editForm}>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"firstName\">First name</label>\n            <div>\n              <input\n                id=\"firstName\"\n                name=\"firstName\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.firstName}\n              />\n              {formik.errors.firstName ? (\n                <p className={classes.errorP}>{formik.errors.firstName}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"lastName\">Last name</label>\n            <div>\n              <input\n                id=\"lastName\"\n                name=\"lastName\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.lastName}\n              />\n              {formik.errors.lastName ? (\n                <p className={classes.errorP}>{formik.errors.lastName}</p>\n              ) : null}\n            </div>\n          </div>\n          <div className={classes.inputDiv}>\n            <label htmlFor=\"email\">Email</label>\n            <div>\n              <input\n                id=\"email\"\n                name=\"email\"\n                type=\"text\"\n                className={classes.input}\n                onChange={formik.handleChange}\n                value={formik.values.email}\n              />\n              {formik.errors.email ? (\n                <p className={classes.errorP}>{formik.errors.email}</p>\n              ) : null}\n            </div>\n          </div>\n\n          <div className={classes.inputDiv}>\n            <Button\n              color=\"primary\"\n              variant=\"contained\"\n              type=\"submit\"\n              className={classes.formButton}\n            >\n              Update\n            </Button>\n          </div>\n        </form>\n      ) : (\n        <span style={{ marginTop: '80px' }}>loading...</span>\n      )}\n    </>\n  )\n}\n\nexport default EditBook\n","import React from \"react\";\nimport { Switch, Route } from \"react-router-dom\";\n\nimport About from \"../pages/About\";\nimport Home from \"../pages/Home\";\nimport Product from \"../pages/Product\";\nimport Login from \"../pages/Login\";\nimport Dashboard from \"../pages/Dashboard\";\nimport Register from \"../pages/Register\";\nimport ShoppingCart from \"../pages/ShoppingCart\";\nimport EditBook from \"../pages/EditBook\";\nimport EditUser from \"../pages/EditUser\";\n\nconst Routes = () => (\n  <Switch>\n    <Route exact path=\"/\" component={Home} />\n    <Route exact path=\"/products/:id\" component={Product} />\n    <Route exact path=\"/login\" component={Login} />\n    <Route exact path=\"/register\" component={Register} />\n    <Route exact path=\"/dashboard\" component={Dashboard} />\n    <Route exact path=\"/cart\" component={ShoppingCart} />\n    <Route exact path=\"/book/:id\" component={EditBook} />\n    <Route exact path=\"/users/:id\" component={EditUser} />\n    <Route exact path=\"/about\" component={About} />\n  </Switch>\n);\n\nexport default Routes;\n","import React, { useState } from 'react'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport AppBar from '@material-ui/core/AppBar'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport Badge from '@material-ui/core/Badge'\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft'\nimport Divider from '@material-ui/core/Divider'\nimport Drawer from '@material-ui/core/Drawer'\nimport IconButton from '@material-ui/core/IconButton'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Menu from '@material-ui/core/Menu'\nimport MenuIcon from '@material-ui/icons/Menu'\nimport MoreIcon from '@material-ui/icons/MoreVert'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport Typography from '@material-ui/core/Typography'\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart'\n\nimport { logoutUser } from '../../redux/actions/auth'\nimport { useStyles } from '../../hooks/useStyles'\nimport { AppState } from '../../types'\n\nexport default function PrimarySearchAppBar() {\n  const classes = useStyles()\n  const history = useHistory()\n  const auth = useSelector((state: AppState) => state.auth)\n  const products = useSelector((state: AppState) => state.product.inCart)\n  const dispatch = useDispatch()\n  const [open, setOpen] = useState(false)\n  const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n  const [\n    mobileMoreAnchorEl,\n    setMobileMoreAnchorEl,\n  ] = React.useState<null | HTMLElement>(null)\n\n  const isMenuOpen = Boolean(anchorEl)\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl)\n\n  const handleProfileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleMobileMenuClose = () => {\n    setMobileMoreAnchorEl(null)\n  }\n\n  const handleMenuClose = (text: string) => {\n    history.push(text)\n    setAnchorEl(null)\n    handleMobileMenuClose()\n  }\n\n  const handleMobileMenuOpen = (event: React.MouseEvent<HTMLElement>) => {\n    setMobileMoreAnchorEl(event.currentTarget)\n  }\n\n  const handleLogoutClick = () => {\n    dispatch(logoutUser())\n    handleMenuClose('')\n  }\n\n  const handleDrawerOpen = () => {\n    setOpen(true)\n  }\n  const handleDrawerClose = () => {\n    setOpen(false)\n  }\n\n  const handleMenuItemClick = (text: string) => {\n    setOpen(false)\n    history.push(`${text}`)\n  }\n\n  const menuId = 'primary-search-account-menu'\n\n  const renderMenu = auth.isAuthenticated ? (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={() => handleMenuClose('/dashboard')}>\n        Dashboard\n      </MenuItem>\n      <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\n    </Menu>\n  ) : (\n    <Menu\n      anchorEl={anchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={menuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMenuOpen}\n      onClose={handleMenuClose}\n    >\n      <MenuItem onClick={() => handleMenuClose('/login')}>Login</MenuItem>\n      <MenuItem onClick={() => handleMenuClose('/register')}>Register</MenuItem>\n    </Menu>\n  )\n\n  // FIX mobile menu\n  const mobileMenuId = 'primary-search-account-menu-mobile'\n  const renderMobileMenu = auth.isAuthenticated ? (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={() => handleMenuClose('/dashboard')}>\n        Dashboard\n      </MenuItem>\n      <MenuItem onClick={handleLogoutClick}>Logout</MenuItem>\n    </Menu>\n  ) : (\n    <Menu\n      anchorEl={mobileMoreAnchorEl}\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n      id={mobileMenuId}\n      keepMounted\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n      open={isMobileMenuOpen}\n      onClose={handleMobileMenuClose}\n    >\n      <MenuItem onClick={() => handleMenuClose('/login')}>Login</MenuItem>\n      <MenuItem onClick={() => handleMenuClose('/register')}>Register</MenuItem>\n    </Menu>\n  )\n\n  return (\n    <div className={classes.grow}>\n      <AppBar position=\"fixed\">\n        <Toolbar>\n          <IconButton\n            edge=\"start\"\n            className={classes.menuButton}\n            color=\"inherit\"\n            aria-label=\"open drawer\"\n            onClick={handleDrawerOpen}\n          >\n            <MenuIcon />\n          </IconButton>\n          <Link to=\"/\" className={classes.link}>\n            <Typography className={classes.title} variant=\"h6\" noWrap>\n              Library\n            </Typography>\n          </Link>\n\n          <div className={classes.grow} />\n          <div className={classes.sectionDesktop}>\n            <IconButton aria-label=\"shopping cart button\" color=\"inherit\">\n              <Badge badgeContent={products.length} color=\"secondary\">\n                <ShoppingCartIcon\n                  onClick={() => {\n                    history.push('/cart')\n                  }}\n                />\n              </Badge>\n            </IconButton>\n            <IconButton\n              edge=\"end\"\n              aria-label=\"account of current user\"\n              aria-controls={menuId}\n              aria-haspopup=\"true\"\n              onClick={handleProfileMenuOpen}\n              color=\"inherit\"\n            >\n              <AccountCircle />\n            </IconButton>\n          </div>\n          <div className={classes.sectionMobile}>\n            <IconButton aria-label=\"shopping cart button\" color=\"inherit\">\n              <Badge badgeContent={products.length} color=\"secondary\">\n                <ShoppingCartIcon\n                  onClick={() => {\n                    history.push('/cart')\n                  }}\n                />\n              </Badge>\n            </IconButton>\n            <IconButton\n              aria-label=\"show more\"\n              aria-controls={mobileMenuId}\n              aria-haspopup=\"true\"\n              onClick={handleMobileMenuOpen}\n              color=\"inherit\"\n            >\n              <MoreIcon />\n            </IconButton>\n          </div>\n        </Toolbar>\n      </AppBar>\n      <Drawer\n        className={classes.drawer}\n        variant=\"persistent\"\n        anchor=\"left\"\n        open={open}\n        classes={{\n          paper: classes.drawerPaper,\n        }}\n      >\n        <div className={classes.drawerHeader}>\n          <Typography variant=\"h6\" noWrap>\n            Menu\n          </Typography>\n          <IconButton onClick={handleDrawerClose}>\n            <ChevronLeftIcon />\n          </IconButton>\n        </div>\n        <Divider />\n        <List>\n          <ListItem button onClick={() => handleMenuItemClick('/')}>\n            <Typography variant=\"body1\" component=\"h2\" gutterBottom>\n              Home\n            </Typography>\n          </ListItem>\n          <ListItem button onClick={() => handleMenuItemClick('/dashboard')}>\n            <Typography variant=\"body1\" component=\"h2\" gutterBottom>\n              Dashboard\n            </Typography>\n          </ListItem>\n          <ListItem button onClick={() => handleMenuItemClick('/about')}>\n            <Typography variant=\"body1\" component=\"h2\" gutterBottom>\n              About Library\n            </Typography>\n          </ListItem>\n        </List>\n        <Divider />\n      </Drawer>\n      {renderMobileMenu}\n      {renderMenu}\n    </div>\n  )\n}\n","import React from \"react\";\n\nimport Routes from \"./Routes/Routes\";\nimport Navbar from \"./components/Navbar\";\nimport \"./App.css\";\n\nfunction App() {\n  return (\n    <>\n      <Navbar />\n      <Routes />\n    </>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);  \n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n}\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { BrowserRouter as Router } from \"react-router-dom\";\nimport jwt_decode from \"jwt-decode\";\n\nimport makeStore from \"./redux/store\";\nimport setAuthToken from \"./utils/setAuthToken\";\nimport { setCurrentUser, logoutUser } from \"./redux/actions/auth\";\nimport { Decoded } from \"./types\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nconst store = makeStore();\n\n// Check for token to keep user logged in\nif (localStorage.jwtToken) {\n  // Set auth token header auth\n  const token = localStorage.jwtToken;\n  setAuthToken(token);\n  // Decode token and get user info and exp\n  const decoded: any = jwt_decode(token);\n  //console.log('decoded from index', decoded)\n\n  // Set user and isAuthenticated\n  store.dispatch(setCurrentUser(decoded));\n  // Check for expired token\n  const currentTime = Date.now() / 1000; // to get in milliseconds\n  if (decoded.exp < currentTime) {\n    // Logout user\n    store.dispatch(logoutUser());\n    // Redirect to login\n    window.location.href = \"./login\";\n  }\n}\n\nconst WithProvider = () => (\n  <Provider store={store}>\n    <Router>\n      <App />\n    </Router>\n  </Provider>\n);\n\nReactDOM.render(<WithProvider />, document.getElementById(\"root\"));\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}